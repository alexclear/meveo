<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:hftl="http://hftl.org"
	xmlns:hf="http://java.sun.com/jsf/composite/tags"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam name="objectId" value="#{serviceTemplateBean.objectId}" />
        </f:metadata>
    </ui:define>
    
	<ui:define name="navigation">
		<ui:include src="/WEB-INF/layoutmenu.xhtml" />
	</ui:define>

	<ui:define name="body">
		<hftl:entityPopup id="searchRecurringChargeTemplatePopup"
			header="#{messages['serviceTemplate.recurringCharges']}"
			updateField=":tabView:formPanelRecurringCharge:formRecurringCharge:recurringChargeTemplateSelectedId"
			selection="#{serviceTemplateBean.serviceChargeTemplateRecurring.chargeTemplate}"
			backingBean="#{recurringChargeTemplateBean}"
			searchField1Label="#{messages['businessEntity.code']}"
			searchField1="code" column1Label="#{messages['businessEntity.code']}"
			column1="code"
			column2Label="#{messages['businessEntity.description']}"
			column2="description">
		</hftl:entityPopup>

		<hftl:entityPopup id="searchSubscriptionChargeTemplatePopup"
			header="#{messages['serviceTemplate.subscriptionCharges']}"
			updateField=":tabView:formPanelSubscriptionCharge:formSubscriptionCharge:subscriptionChargeTemplateSelectedId"
			selection="#{serviceTemplateBean.serviceChargeTemplateSubscription.chargeTemplate}"
			backingBean="#{subscriptionChargeTemplateBean}"
			searchField1Label="#{messages['businessEntity.code']}"
			searchField1="code" column1Label="#{messages['businessEntity.code']}"
			column1="code"
			column2Label="#{messages['businessEntity.description']}"
			column2="description">
		</hftl:entityPopup>

		<hftl:entityPopup id="searchTerminationChargeTemplatePopup"
			header="#{messages['serviceTemplate.terminationCharges']}"
			updateField=":tabView:formPanelTerminationCharge:formTerminationCharge:terminationChargeTemplateSelectedId"
			selection="#{serviceTemplateBean.serviceChargeTemplateTermination.chargeTemplate}"
			backingBean="#{terminationChargeTemplateBean}"
			searchField1Label="#{messages['businessEntity.code']}"
			searchField1="code" column1Label="#{messages['businessEntity.code']}"
			column1="code"
			column2Label="#{messages['businessEntity.description']}"
			column2="description">
		</hftl:entityPopup>

		<hftl:entityPopup id="searchUsageChargeTemplatePopup"
			header="#{messages['usageChargeTemplate.title']}"
			updateField=":tabView:formPanelUsageCharge:formUsageCharge:usageChargeTemplateSelectedId"
			selection="#{serviceTemplateBean.serviceChargeTemplateUsage.chargeTemplate}"
			backingBean="#{usageChargeTemplateBean}"
			searchField1Label="#{messages['businessEntity.code']}"
			searchField1="code" column1Label="#{messages['businessEntity.code']}"
			column1="code"
			column2Label="#{messages['businessEntity.description']}"
			column2="description">
		</hftl:entityPopup>

		<hftl:entityPopup id="searchCounterTemplatePopup"
			header="#{messages['counterTemplate.title']}"
			updateField=":tabView:formPanelUsageCharge:formUsageCharge:counterTemplateSelectedId"
			selection="#{serviceChargeTemplateUsage.counterTemplate}"
			backingBean="#{counterTemplateBean}"
			searchField1Label="#{messages['businessEntity.code']}"
			searchField1="code" column1Label="#{messages['businessEntity.code']}"
			column1="code"
			column2Label="#{messages['businessEntity.description']}"
			column2="description">
		</hftl:entityPopup>
		<p:panel>
			<h:form id="crumbmenuForm">
				<p:breadCrumb homeDisplay="text" id="crumbmenu">
					<p:menuitem value="#{messages['menu.catalog']}" disabled="true" />
					<p:menuitem outcome="serviceTemplates"
						value="#{messages['menu.serviceTemplates']}" />
				</p:breadCrumb>
			</h:form>
		</p:panel>

		<p:panel header="#{messages['menu.serviceTemplates']}" >
			<p:tabView id="tabView">
				<p:tab title="#{messages['serviceUsageChargeTemplate.info']}">

					<hf:formPanel backingBean="#{serviceTemplateBean}" columns="1" showEnableDisableButton="true" updateConfirmationMessage="#{serviceTemplateBean.usedInSubscription ? 'confirmationMessage.confirmUpdate' : ''}">

							<hf:formField label="#{messages['serviceTemplate.code']}"
								field="code" required="true" validateUnique="true" />
							<hf:formField label="#{messages['enableEntity.disabled']}" doNotShowOnNew="true" allowEdit="false"
								field="disabled" isMessage="true" />
							<hf:formField label="#{messages['serviceTemplate.description']}"
								field="description" required="true" useConverter="false"
								size="50" maxlength="50" />
							<hf:formField
								label="#{messages['serviceTemplate.calendar']}"
								field="invoicingCalendar" valueLabelField="code" required="false" popup="false"
								listBean="#{calendarBean}" />

					</hf:formPanel>

				</p:tab>

				<p:tab title="#{messages['serviceTemplate.recurringCharges']}"
					id="tab2" rendered="#{serviceTemplateBean.entity.id!=null}">
					<p:outputPanel id="invoiceRecurringCountries_MSG_panel">
						<h:graphicImage value="/img/msgerror.png" style="border:0"
							rendered="#{validation.failed}" />
						<h:outputText value="#{messages['validation.validationFailure']}"
							rendered="#{validation.failed}" styleClass="errorMessage" />
					</p:outputPanel>
                    <p:panel styleClass="form-panel">
                        <hf:formDecorateField fieldId="recServiceTemplateCode" label="#{messages['access.serviceInstance']}">
							<h:outputText id="recServiceTemplateCode" value="#{serviceTemplateBean.entity.code}"
								required="true" disabled="true" style="font-weight:bold;" />
							<h:inputHidden rendered="#{serviceTemplateBean.edit}" />
				        </hf:formDecorateField>
					   <hf:formDecorateField fieldId="recServiceTemplateDescription" label="#{messages['invoiceSubCategory.description']}">
							<h:outputText id="recServiceTemplateDescription" value="#{serviceTemplateBean.entity.description}"
								required="true" disabled="true" style="font-weight:bold;" />
							<h:inputHidden rendered="#{serviceTemplateBean.edit}" />
				        </hf:formDecorateField>
                    </p:panel>
                    
					<h:panelGroup id="serviceRecurringChargeTempalte_panel">
						<hftl:dataList id="serviceRecurringChargeTempalte_table"
							backingBean="#{serviceChargeTemplateRecurringBean}"
							dataModel="#{serviceTemplateBean.entity.serviceRecurringCharges}"
							resultsId="serviceRecurringCharges_results" exportToXml="false">
							<hftl:column label="#{messages['pricePlanMatrix.eventCode']}"
								field="chargeTemplate.code" valueIdField="chargeTemplate.id" 
								entityView="recurringChargeTemplateDetail"/>
							<hftl:column label="#{messages['menu.wallets']}"
								field="walletTemplates" valueLabelField="code" isList="true" />
							<p:column styleClass="actions-column"
								rendered="#{serviceTemplateBean.edit}">
								<f:facet name="header">
									<h:outputText value="#{messages['commons.actions']}" />
								</f:facet>
								<p:commandButton
									update=":tabView:formPanelRecurringCharge:formRecurringCharge"
									action="#{serviceTemplateBean.editServiceRecurringChargeTemplate(entity)}"
									icon="ui-icon-document" />
								<p:commandButton
									action="#{serviceTemplateBean.deleteServiceRecurringChargeTemplate(entity)}"
									icon="ui-icon-trash"
									update=":tabView:serviceRecurringChargeTempalte_panel,:tabView:formPanelRecurringCharge:formRecurringCharge" />

							</p:column>
						</hftl:dataList>

					</h:panelGroup>


						<p:panel id="serviceRecurringChargediv"
							rendered="#{serviceTemplateBean.edit}">
								<hf:formPanel id="formPanelRecurringCharge"
									formId="formRecurringCharge" edit="#{serviceTemplateBean.edit}"
									backingBean="#{serviceTemplateBean}"
									entity="#{serviceTemplateBean.serviceChargeTemplateRecurring}"
									showFormButtons="false" ajaxSubmit="true">
									<hf:formField id="recurringChargeTemplateSelectedId"
										label="#{messages['pricePlanMatrix.eventCode']}"
										field="chargeTemplate" valueLabelField="code" popup="true"
										popupId="searchRecurringChargeTemplatePopup"
										clearButton="true" required="true" />
									<hf:formField label="#{messages['menu.wallets']}"
										listType="pickUpList" field="walletTemplates"
										valueLabelField="code"
										dualListModel="#{serviceTemplateBean.recurringDualListModel}" />
									<f:facet name="buttons">
										<p:commandButton
											rendered="#{serviceRecurringChargeTemplate.id==null}"
											action="#{serviceTemplateBean.saveServiceChargeTemplateRecurring}"
											value="#{messages['action.addSave']}"
											update=":tabView:serviceRecurringChargeTempalte_panel,:tabView:formPanelRecurringCharge:formRecurringCharge ,:tabView:serviceRecurringChargediv" />
										<p:commandButton
											rendered="#{serviceRecurringChargeTemplate.id!=null}"
											action="#{serviceTemplateBean.saveServiceChargeTemplateRecurring}"
											value="#{messages['serviceRecurringChargeTemplate.modifyServiceRecurringCharge']}"
											update=":tabView:serviceRecurringChargeTempalte_panel,:tabView:formPanelRecurringCharge:formRecurringCharge ,:tabView:serviceRecurringChargediv" />
										<p:commandButton value="#{messages['action.cancel']}"
											action="#{serviceTemplateBean.newServiceChargeTemplateRecurring}"
											update=":tabView:serviceRecurringChargediv" />
										<p:button id="buttonBack" value="#{messages['action.back']}"
											outcome="#{serviceTemplateBean.back()}"
											includeViewParams="true">
											<f:param name="cid" value="#{conversation.id}" />
										</p:button>
									</f:facet>
								</hf:formPanel>
						</p:panel>

				</p:tab>

				<p:tab title="#{messages['serviceTemplate.subscriptionCharges']}"
					id="tab3" rendered="#{serviceTemplateBean.entity.id!=null}">
					<p:outputPanel id="invoiceSubscriptionCountries_MSG_panel">
						<h:graphicImage value="/img/msgerror.png" style="border:0"
							rendered="#{validation.failed}" />
						<h:outputText value="#{messages['validation.validationFailure']}"
							rendered="#{validation.failed}" styleClass="errorMessage" />
					</p:outputPanel>
                    
                    <p:panel styleClass="form-panel">
                        <hf:formDecorateField fieldId="subsServiceTemplateCode" label="#{messages['access.serviceInstance']}">
                            <h:outputText id="subsServiceTemplateCode" value="#{serviceTemplateBean.entity.code}"
                                required="true" disabled="true" style="font-weight:bold;" />
                            <h:inputHidden rendered="#{serviceTemplateBean.edit}" />
                        </hf:formDecorateField>
                       <hf:formDecorateField fieldId="subsServiceTemplateDescription" label="#{messages['invoiceSubCategory.description']}">
                            <h:outputText id="subsServiceTemplateDescription" value="#{serviceTemplateBean.entity.description}"
                                required="true" disabled="true" style="font-weight:bold;" />
                            <h:inputHidden rendered="#{serviceTemplateBean.edit}" />
                        </hf:formDecorateField>
                    </p:panel>

					<h:panelGroup id="serviceSubscriptionChargeTempalte_panel">
						<hftl:dataList id="serviceSubscriptionChargeTempalte_table"
							backingBean="#{serviceChargeTemplateSubscriptionBean}"
							dataModel="#{serviceTemplateBean.entity.serviceSubscriptionCharges}"
							resultsId="serviceSubscriptionCharges_results" exportToXml="false">
							<hftl:column label="#{messages['pricePlanMatrix.eventCode']}"
								field="chargeTemplate.code" valueIdField="chargeTemplate.id" 
								entityView="oneShotChargeTemplateDetail"/>
							<hftl:column label="#{messages['menu.wallets']}"
								field="walletTemplates" valueLabelField="code" isList="true" />
							<p:column styleClass="actions-column"
								rendered="#{serviceTemplateBean.edit}">
								<f:facet name="header">
									<h:outputText value="#{messages['commons.actions']}" />
								</f:facet>
								<p:commandButton
									update=":tabView:formPanelSubscriptionCharge:formSubscriptionCharge"
									action="#{serviceTemplateBean.editServiceSubscriptionChargeTemplate(entity)}"
									icon="ui-icon-document" />
								<p:commandButton
									action="#{serviceTemplateBean.deleteServiceSubscriptionChargeTemplate(entity)}"
									icon="ui-icon-trash"
									update=":tabView:serviceSubscriptionChargeTempalte_panel,:tabView:formPanelSubscriptionCharge:formSubscriptionCharge" />

							</p:column>
						</hftl:dataList>
					</h:panelGroup>

						<p:panel id="serviceSubscriptionChargediv" rendered="#{serviceTemplateBean.edit}">
								<hf:formPanel id="formPanelSubscriptionCharge"
									formId="formSubscriptionCharge"
									edit="#{serviceTemplateBean.edit}"
									backingBean="#{serviceTemplateBean}"
									entity="#{serviceTemplateBean.serviceChargeTemplateSubscription}"
									showFormButtons="false" ajaxSubmit="true">
									<hf:formField id="subscriptionChargeTemplateSelectedId"
										label="#{messages['pricePlanMatrix.eventCode']}"
										field="chargeTemplate" valueLabelField="code" popup="true"
										popupId="searchSubscriptionChargeTemplatePopup"
										clearButton="true" required="true" />
									<hf:formField label="#{messages['menu.wallets']}"
										listType="pickUpList" field="walletTemplates"
										valueLabelField="code"
										dualListModel="#{serviceTemplateBean.subscriptionDualListModel}" />
									<f:facet name="buttons">
										<p:commandButton
											rendered="#{serviceSubscriptionChargeTemplate.id==null}"
											action="#{serviceTemplateBean.saveServiceChargeTemplateSubscription}"
											value="#{messages['action.addSave']}"
											update=":tabView:serviceSubscriptionChargeTempalte_panel,:tabView:formPanelSubscriptionCharge:formSubscriptionCharge ,:tabView:serviceSubscriptionChargediv" />
										<p:commandButton
											rendered="#{serviceSubscriptionChargeTemplate.id!=null}"
											action="#{serviceTemplateBean.saveServiceChargeTemplateSubscription}"
											value="#{messages['serviceSubscriptionChargeTemplate.modifyServiceSubscriptionCharge']}"
											update=":tabView:serviceSubscriptionChargeTempalte_panel,:tabView:formPanelSubscriptionCharge:formSubscriptionCharge ,:tabView:serviceSubscriptionChargediv" />
										<p:commandButton value="#{messages['action.cancel']}"
											action="#{serviceTemplateBean.newServiceChargeTemplateSubscription}"
											update=":tabView:serviceSubscriptionChargediv" />
										<p:button id="buttonBack3" value="#{messages['action.back']}"
											outcome="#{serviceTemplateBean.back()}"
											includeViewParams="true">
											<f:param name="cid" value="#{conversation.id}" />
										</p:button>
									</f:facet>
								</hf:formPanel>
						</p:panel>

				</p:tab>

				<p:tab title="#{messages['serviceTemplate.terminationCharges']}"
					id="tab4" rendered="#{serviceTemplateBean.entity.id!=null}">
					<p:outputPanel id="invoiceTerminationCountries_MSG_panel">
						<h:graphicImage value="/img/msgerror.png" style="border:0"
							rendered="#{validation.failed}" />
						<h:outputText value="#{messages['validation.validationFailure']}"
							rendered="#{validation.failed}" styleClass="errorMessage" />
					</p:outputPanel>
                    <p:panel styleClass="form-panel">
                        <hf:formDecorateField fieldId="termServiceTemplateCode" label="#{messages['access.serviceInstance']}">
                            <h:outputText id="termServiceTemplateCode" value="#{serviceTemplateBean.entity.code}"
                                required="true" disabled="true" style="font-weight:bold;" />
                            <h:inputHidden rendered="#{serviceTemplateBean.edit}" />
                        </hf:formDecorateField>
                       <hf:formDecorateField fieldId="termServiceTemplateDescription" label="#{messages['invoiceSubCategory.description']}">
                            <h:outputText id="termServiceTemplateDescription" value="#{serviceTemplateBean.entity.description}"
                                required="true" disabled="true" style="font-weight:bold;" />
                            <h:inputHidden rendered="#{serviceTemplateBean.edit}" />
                        </hf:formDecorateField>
                    </p:panel>

					<h:panelGroup id="serviceTerminationChargeTempalte_panel">
						<hftl:dataList id="serviceTerminationChargeTempalte_table"
							backingBean="#{serviceChargeTemplateTerminationBean}"
							dataModel="#{serviceTemplateBean.entity.serviceTerminationCharges}"
							resultsId="serviceTerminationCharges_results" exportToXml="false">
							<hftl:column label="#{messages['pricePlanMatrix.eventCode']}"
								field="chargeTemplate.code" valueIdField="chargeTemplate.id" 
								entityView="oneShotChargeTemplateDetail"/>
							<hftl:column label="#{messages['menu.wallets']}"
								field="walletTemplates" valueLabelField="code" isList="true" />
							<p:column styleClass="actions-column"
								rendered="#{serviceTemplateBean.edit}">
								<f:facet name="header">
									<h:outputText value="#{messages['commons.actions']}" />
								</f:facet>
								<p:commandButton
									update=":tabView:formPanelTerminationCharge:formTerminationCharge"
									action="#{serviceTemplateBean.editServiceTerminationChargeTemplate(entity)}"
									icon="ui-icon-document" />
								<p:commandButton
									action="#{serviceTemplateBean.deleteServiceTerminationChargeTemplate(entity)}"
									icon="ui-icon-trash"
									update=":tabView:serviceTerminationChargeTempalte_panel,:tabView:formPanelTerminationCharge:formTerminationCharge" />

							</p:column>
						</hftl:dataList>
                    </h:panelGroup>

						<p:panel id="serviceTerminationChargediv" rendered="#{serviceTemplateBean.edit}">
								<hf:formPanel id="formPanelTerminationCharge"
									formId="formTerminationCharge"
									edit="#{serviceTemplateBean.edit}"
									backingBean="#{serviceTemplateBean}"
									entity="#{serviceTemplateBean.serviceChargeTemplateTermination}"
									showFormButtons="false" ajaxSubmit="true">
									<hf:formField id="terminationChargeTemplateSelectedId"
										label="#{messages['pricePlanMatrix.eventCode']}"
										field="chargeTemplate" valueLabelField="code" popup="true"
										popupId="searchTerminationChargeTemplatePopup"
										clearButton="true" required="true" />
									<hf:formField label="#{messages['menu.wallets']}"
										listType="pickUpList" field="walletTemplates"
										valueLabelField="code"
										dualListModel="#{serviceTemplateBean.terminationDualListModel}" />
									<f:facet name="buttons">
										<p:commandButton
											rendered="#{serviceTerminationChargeTemplate.id==null}"
											action="#{serviceTemplateBean.saveServiceChargeTemplateTermination}"
											value="#{messages['action.addSave']}"
											update=":tabView:serviceTerminationChargeTempalte_panel,:tabView:formPanelTerminationCharge:formTerminationCharge ,:tabView:serviceTerminationChargediv" />
										<p:commandButton
											rendered="#{serviceTerminationChargeTemplate.id!=null}"
											action="#{serviceTemplateBean.saveServiceChargeTemplateTermination}"
											value="#{messages['serviceTerminationChargeTemplate.modifyServiceTerminationCharge']}"
											update=":tabView:serviceTerminationChargeTempalte_panel,:tabView:formPanelTerminationCharge:formTerminationCharge ,:tabView:serviceTerminationChargediv" />
										<p:commandButton value="#{messages['action.cancel']}"
											action="#{serviceTemplateBean.newServiceChargeTemplateTermination}"
											update=":tabView:serviceTerminationChargediv" />
										<p:button id="buttonBack3" value="#{messages['action.back']}"
											outcome="#{serviceTemplateBean.back()}"
											includeViewParams="true">
											<f:param name="cid" value="#{conversation.id}" />
										</p:button>
									</f:facet>
								</hf:formPanel>
						</p:panel>

				</p:tab>

				<p:tab title="#{messages['serviceTemplate.usageCharges']}" id="tab5"
					rendered="#{serviceTemplateBean.entity.id!=null}">
					<p:outputPanel id="invoiceSubCategoryCountries_MSG_panel">
						<h:graphicImage value="/img/msgerror.png" style="border:0"
							rendered="#{validation.failed}" />
						<h:outputText value="#{messages['validation.validationFailure']}"
							rendered="#{validation.failed}" styleClass="errorMessage" />
					</p:outputPanel>
                    <p:panel styleClass="form-panel">
                        <hf:formDecorateField fieldId="usageServiceTemplateCode" label="#{messages['access.serviceInstance']}">
                            <h:outputText id="usageServiceTemplateCode" value="#{serviceTemplateBean.entity.code}"
                                required="true" disabled="true" style="font-weight:bold;" />
                            <h:inputHidden rendered="#{serviceTemplateBean.edit}" />
                        </hf:formDecorateField>
                       <hf:formDecorateField fieldId="usageServiceTemplateDescription" label="#{messages['invoiceSubCategory.description']}">
                            <h:outputText id="usageServiceTemplateDescription" value="#{serviceTemplateBean.entity.description}"
                                required="true" disabled="true" style="font-weight:bold;" />
                            <h:inputHidden rendered="#{serviceTemplateBean.edit}" />
                        </hf:formDecorateField>
                    </p:panel>
					
                    <h:panelGroup id="serviceUsageChargeTempalte_panel">
						<hftl:dataList backingBean="#{serviceChargeTemplateUsageBean}"
							dataModel="#{serviceTemplateBean.entity.serviceUsageCharges}"
							resultsId="serviceUsageCharges_results" exportToXml="false">
							<hftl:column label="#{messages['pricePlanMatrix.eventCode']}"
								field="chargeTemplate.code" valueIdField="chargeTemplate.id" 
								entityView="usageChargeTemplateDetail"/>
							<hftl:column label="#{messages['menu.wallets']}"
								field="walletTemplates" valueLabelField="code" isList="true" />
							<hftl:column label="#{messages['counterTemplate.title']}"
								field="counterTemplate.code" />
							<p:column styleClass="actions-column"
								rendered="#{serviceTemplateBean.edit}">
								<f:facet name="header">
									<h:outputText value="#{messages['commons.actions']}" />
								</f:facet>
								<p:commandButton
									update=":tabView:formPanelUsageCharge:formUsageCharge"
									action="#{serviceTemplateBean.editServiceUsageChargeTemplate(entity)}"
									icon="ui-icon-document" />
								<p:commandButton
									action="#{serviceTemplateBean.deleteServiceUsageChargeTemplate(entity)}"
									icon="ui-icon-trash"
									update=":tabView:serviceUsageChargeTempalte_panel,:tabView:formPanelUsageCharge:formUsageCharge" />
							</p:column>
						</hftl:dataList>
					</h:panelGroup>

						<p:panel id="serviceUsageChargediv" rendered="#{serviceTemplateBean.edit}">
								<hf:formPanel id="formPanelUsageCharge" formId="formUsageCharge"
									edit="#{serviceTemplateBean.edit}"
									backingBean="#{serviceTemplateBean}"
									entity="#{serviceTemplateBean.serviceChargeTemplateUsage}" showFormButtons="false"
									ajaxSubmit="true">
									<hf:formField id="usageChargeTemplateSelectedId"
										label="#{messages['pricePlanMatrix.eventCode']}"
										field="chargeTemplate" valueLabelField="code" popup="true"
										popupId="searchUsageChargeTemplatePopup" clearButton="true"
										required="true" />
									<hf:formField label="#{messages['menu.wallets']}"
										listType="pickUpList" field="walletTemplates"
										valueLabelField="code"
										dualListModel="#{serviceTemplateBean.usageDualListModel}" />
									<hf:formField id="counterTemplateSelectedId"
										label="#{messages['counterTemplate.title']}"
										field="counterTemplate" valueLabelField="code" popup="true"
										popupId="searchCounterTemplatePopup" clearButton="true"
										required="false" />
									<f:facet name="buttons">
										<p:commandButton
											rendered="#{serviceUsageChargeTemplate.id==null}"
											action="#{serviceTemplateBean.saveServiceChargeTemplateUsage}"
											value="#{messages['action.addSave']}"
											update=":tabView:serviceUsageChargeTempalte_panel,:tabView:formPanelUsageCharge:formUsageCharge ,:tabView:serviceUsageChargediv" />
										<p:commandButton
											rendered="#{serviceUsageChargeTemplate.id!=null}"
											action="#{serviceTemplateBean.saveServiceChargeTemplateUsage}"
											value="#{messages['serviceUsageChargeTemplate.modifyServiceUsageCharge']}"
											update=":tabView:serviceUsageChargeTempalte_panel,:tabView:formPanelUsageCharge:formUsageCharge ,:tabView:serviceUsageChargediv" />
										<p:commandButton value="#{messages['action.cancel']}"
											action="#{serviceTemplateBean.newServiceChargeTemplateUsage}"
											update=":tabView:serviceUsageChargediv" />
										<p:button id="buttonBack5" value="#{messages['action.back']}"
											outcome="#{serviceTemplateBean.back()}"
											includeViewParams="true">
											<f:param name="cid" value="#{conversation.id}" />
										</p:button>
									</f:facet>
								</hf:formPanel>
						</p:panel>
				</p:tab>

				<p:tab title="#{messages['customFieldTemplate.cfValues']}" rendered="#{serviceTemplateBean.entity.id!=null}">
    				<hf:formPanel id="cfFormPanel" backingBean="#{serviceTemplateBean}" ajaxSubmit="true" submitPartialProcess=":tabView:cfFormPanel:formId:fieldGroup">
                        <h:panelGroup id="fieldGroup">
    						<hf:customFields id="customFields" backingBean="#{serviceTemplateBean}" messagesId=":tabView:cfFormPanel:formId:messages" />
    					</h:panelGroup>
                    </hf:formPanel>
				</p:tab>

			</p:tabView>
		</p:panel>
	</ui:define>

</ui:composition>
