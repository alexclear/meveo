<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j" xmlns:hftl="http://hftl.org"
	xmlns:hf="http://java.sun.com/jsf/composite/tags"
	template="/layout/template.xhtml">

	<ui:define name="navigation">
		<ui:include src="/layout/navigation.xhtml" />
	</ui:define>
	<ui:define name="body">
		<hf:formPanel showFormButtons="#{false}" edit="#{false}"
			label="#{messages['accountOperation_I.form']}"
			backingBean="#{recordedInvoiceBean}">
			<hftl:panelGroup columns="3">
				<hf:formField
					label="#{messages['accountOperation.transactionDate']}"
					field="transactionDate" />
				<hf:formField label="#{messages['accountOperation.matchingStatus']}"
					field="matchingStatus" childField="label" isMessage="true" />
			</hftl:panelGroup>
			<hftl:panelGroup columns="3">
				<hf:formField label="#{messages['accountOperation.invoiceNumber']}"
					field="reference" />
				<hf:formField label="#{messages['accountOperation.invoiceDate']}"
					field="invoiceDate" />
				<hf:formField label="#{messages['accountOperation.dueDate']}"
					field="dueDate" />
			</hftl:panelGroup>
			<hftl:panelGroup columns="1">
				<hf:formField label="#{messages['accountOperation.occDescription']}"
					field="occDescription" size="50" maxlength="50" />
			</hftl:panelGroup>
			<hftl:panelGroup columns="3">
				<hf:formField label="#{messages['accountOperation.amountTTC']}"
					field="amount" />
				<hf:formField label="#{messages['accountOperation.amountHT']}"
					field="amountWithoutTax" />
				<hf:formField label="#{messages['accountOperation.amountTax']}"
					field="taxAmount" />
			</hftl:panelGroup>
			<hftl:panelGroup columns="3">
				<p:commandButton action="#{recordedInvoiceBean.addLitigation()}"
					value="#{messages['accountOperation_I.buttonAddLitigation']}"
					rendered="#{recordedInvoice.matchingStatus.toString() == 'O'}" />
				<p:commandButton action="#{recordedInvoiceBean.cancelLitigation()}"
					value="#{messages['accountOperation_I.buttonCancelLitigation']}"
					rendered="#{recordedInvoice.matchingStatus.toString() == 'I'}" />
				<p:commandButton value="#{messages['action.back']}"
					action="/pages/payments/customerAccounts/customerAccountDetail.xhtml">
					<f:attribute name="objectId"
						value="#{recordedInvoice.getCustomerAccount().getId()}" />
					<f:attribute name="edit" value="false" />
					<f:param name="cid" value="#{javax.enterprise.context.conversation.id}" />
				</p:commandButton>
			</hftl:panelGroup>
		</hf:formPanel>
	</ui:define>
</ui:composition>
